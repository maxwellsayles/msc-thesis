<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Simplex: simplex.pl Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.3 -->
<h1>simplex.pl</h1><div class="fragment"><pre>00001 <span class="preprocessor">#! /usr/bin/perl</span>
00002 <span class="preprocessor"></span><span class="preprocessor"># Implementation of Simplex Algorithm</span>
00003 <span class="preprocessor"></span><span class="preprocessor"># © Mark Hutchinson 2004</span>
00004 <span class="preprocessor"></span>
00005 use CGI qw/:standard *table *center/;
00006 
00007 @tableau=();
00008 @maxmin=();
00009 @names=();
00010 @remove=();
00011 
00012 <span class="preprocessor"># Note: vertical counts from 0, horizontal from 1 (to allow space for</span>
00013 <span class="preprocessor"></span><span class="preprocessor"># displayed calculations)</span>
00014 <span class="preprocessor"></span>
00015 sub data_error;
00016 
00017 <span class="preprocessor"># Alas, would that I knew how to import things...</span>
00018 <span class="preprocessor"></span>
00019 <span class="preprocessor">######################### Start of fraction library #########################</span>
00020 <span class="preprocessor"></span>
00021 <span class="preprocessor"># Fraction routines</span>
00022 <span class="preprocessor"></span><span class="preprocessor"># © Mark Hutchinson 2004</span>
00023 <span class="preprocessor"></span>
00024 sub f_split {
00025     ($_[0] =~ m!^([0-9\-]+)/([0-9\-]+)$!) or <span class="keywordflow">return</span> ($_[0],<span class="charliteral">'1'</span>);
00026     <span class="keywordflow">return</span> ($1,$2);
00027 }
00028 
00029 sub f_join {
00030     <span class="keywordflow">return</span> $_[0].<span class="stringliteral">"/"</span>.$_[1];
00031 }
00032 
00033 sub f_is_neg {
00034     my $neg;
00035     ($_[0] != 0) or <span class="keywordflow">return</span> 0;
00036     $neg=$_[0]/abs($_[0]);
00037     $neg *= ($_[1]/abs($_[1]));
00038     <span class="keywordflow">return</span> $neg;
00039 }
00040 
00041 sub f_toggle_neg {
00042     my $neg;
00043     my $num=$_[0];
00044     ($num != 0) or <span class="keywordflow">return</span> '0/1';
00045     $neg=$num/abs($num);
00046     <span class="keywordflow">return</span> (<span class="charliteral">'-'</span>.$num,$_[1]) <span class="keywordflow">if</span> $neg==1;
00047     <span class="keywordflow">return</span> (substr($num,1),$_[1]);
00048 }
00049 
00050 sub f_simplify {
00051     my @parts=&amp;f_split($_[0]);
00052     &amp;_f_simplify(@parts);
00053 }
00054 
00055 sub _f_simplify {
00056     my $neg,$a,$b,$c,$num,$denom;
00057     ($num,$denom)=@_;
00058     <span class="keywordflow">return</span> <span class="stringliteral">"0/1"</span> <span class="keywordflow">if</span> $num==0;
00059     &amp;data_error(<span class="stringliteral">"Division by zero"</span>) <span class="keywordflow">if</span> $denom==0;
00060     $neg=&amp;f_is_neg(@_);
00061     $num=abs $num;
00062     $denom=abs $denom;
00063     <span class="keywordflow">if</span>($num&lt;$denom) {
00064         $a=$num;
00065         $b=$denom;
00066     } <span class="keywordflow">else</span> {
00067         $a=$denom;
00068         $b=$num;
00069     }
00070     <span class="keywordflow">do</span> {
00071         $c=-(int($a/$b)*$b-$a);
00072         <span class="keywordflow">if</span>($c!=0){
00073             $a=$b;
00074             $b=$c;
00075         }
00076     } until ($c==0);
00077     $num/=$b;
00078     $denom/=$b;
00079     <span class="keywordflow">return</span> &amp;f_join($neg*$num,$denom);
00080 }
00081 
00082 sub f_proper_parts {
00083     my $num,$denom,$count,$neg,$proper;
00084     ($num,$denom)=&amp;f_split($_[0]);
00085     <span class="keywordflow">return</span> (<span class="charliteral">'0'</span>,'0/1') <span class="keywordflow">if</span> $num==0;
00086     $neg=&amp;f_is_neg($num,$denom);
00087     $num=abs $num;
00088     $denom= abs $denom;
00089     <span class="keywordflow">for</span>($count=0;$num&gt;=$denom;$count++){
00090         $num -= $denom;
00091     }
00092     $count *= $neg;
00093     <span class="keywordflow">return</span> (<span class="charliteral">'0'</span>,$_[0]) <span class="keywordflow">if</span> $count==0;
00094     <span class="keywordflow">return</span> ($count,'0/1') <span class="keywordflow">if</span> $num==0;
00095     $proper=&amp;f_join($num,$denom);
00096     <span class="keywordflow">return</span> ($count,$proper);
00097 }
00098 
00099 sub f_make_proper {
00100     <span class="keywordflow">return</span> &amp;f_make_improper($_[0]) <span class="keywordflow">if</span> $display_type eq 'Display as improper fractions';
00101     <span class="keywordflow">return</span> &amp;f_fract_to_num($_[0]) <span class="keywordflow">if</span> $display_type eq 'Display as decimals';
00102     <span class="keywordflow">return</span> &amp;_f_make_proper($_[0]);
00103 }
00104 
00105 sub _f_make_proper {
00106     my $int,$fract,$num,$denom,$sign;
00107     <span class="keywordflow">if</span>($display_sign eq 'on'){
00108         <span class="keywordflow">if</span>(&amp;f_lt($_[0],'0/1')){
00109             $sign=<span class="charliteral">'-'</span>;
00110         }<span class="keywordflow">else</span>{
00111             $sign=<span class="charliteral">'+'</span>;
00112         }
00113     }
00114     ($int,$fract)=&amp;f_proper_parts($_[0]);
00115     ($num,$denom)=&amp;f_split($fract);
00116     <span class="keywordflow">return</span> $int <span class="keywordflow">if</span> $num==0;
00117     <span class="keywordflow">return</span> '&lt;sup&gt;'.$num.'&lt;/sup&gt;/&lt;sub&gt;'.$denom.'&lt;/sub&gt;' <span class="keywordflow">if</span> $int==0;
00118     <span class="keywordflow">return</span> $int.$sign.'&lt;sup&gt;'.$num.'&lt;/sup&gt;/&lt;sub&gt;'.$denom.'&lt;/sub&gt;';
00119 }
00120 sub f_make_improper {
00121     my $num,$denom;
00122     ($num,$denom)=&amp;f_split($_[0]);
00123     <span class="keywordflow">return</span> <span class="charliteral">'0'</span> <span class="keywordflow">if</span> ($num==0);
00124     <span class="keywordflow">return</span> $num <span class="keywordflow">if</span> ($denom==1);
00125     <span class="keywordflow">return</span> '&lt;sup&gt;'.$num.'&lt;/sup&gt;/&lt;sub&gt;'.$denom.'&lt;/sub&gt;';
00126 }
00127 
00128 sub f_add {
00129     my @a,@b,$denom;
00130     @a=&amp;f_split($_[0]);
00131     @b=&amp;f_split($_[1]);
00132     $denom=$a[1]*$b[1];
00133     $a[0] *= $b[1];
00134     $b[0] *= $a[1];
00135     <span class="keywordflow">return</span> &amp;_f_simplify($a[0]+$b[0],$denom);
00136 }
00137 
00138 sub f_sub {
00139     my $bn,@b=&amp;f_split($_[1]);
00140     @b=&amp;f_toggle_neg(@b);
00141     $bn=&amp;f_join(@b);
00142     <span class="keywordflow">return</span> &amp;f_add($_[0],$bn);
00143 }
00144 
00145 sub f_mult {
00146     my @a,@b;
00147     @a=&amp;f_split($_[0]);
00148     @b=&amp;f_split($_[1]);
00149     <span class="keywordflow">return</span> &amp;_f_simplify($a[0]*$b[0],$a[1]*$b[1]);
00150 }
00151 
00152 sub f_div {
00153     my @b=&amp;f_split($_[1]);
00154     <span class="keywordflow">return</span> &amp;f_mult($_[0],&amp;f_join($b[1],$b[0]));
00155 }
00156 
00157 sub f_fract_to_num {
00158     my @a=&amp;f_split($_[0]);
00159     <span class="keywordflow">return</span> $a[0]/$a[1];
00160 }
00161 
00162 sub f_eq {
00163     my $res=&amp;f_sub($_[0],$_[1]);
00164     <span class="keywordflow">return</span> ($res==0);
00165 }
00166 
00167 sub f_ne {
00168     my $res=&amp;f_sub($_[0],$_[1]);
00169     <span class="keywordflow">return</span> ($res!=0);
00170 }
00171 
00172 sub f_lt {
00173     my $res=&amp;f_sub($_[0],$_[1]);
00174     <span class="keywordflow">return</span> ($res&lt;0);
00175 }
00176     
00177 sub f_le {
00178     my $res=&amp;f_sub($_[0],$_[1]);
00179     <span class="keywordflow">return</span> ($res&lt;=0);
00180 }
00181     
00182 sub f_gt {
00183     my $res=&amp;f_sub($_[0],$_[1]);
00184     <span class="keywordflow">return</span> ($res&gt;0);
00185 }
00186 
00187 sub f_ge {
00188     my $res=&amp;f_sub($_[0],$_[1]);
00189     <span class="keywordflow">return</span> ($res&gt;=0);
00190 }
00191 
00192 sub f_num_to_fract {
00193     my $int,$no,$r,$s,$t,$num,$denom,$s,$a=$_[0];
00194     $int=<span class="keywordtype">int</span> $a;
00195     $a -= $int;
00196     <span class="keywordflow">do</span> {
00197         $no++;
00198         $r=$a*(10**$no);
00199         $s=<span class="keywordtype">int</span> $r;
00200         $t=$r-$s;
00201     } until($t==0 or $no&gt;=8);
00202     $num=$s+($int*(10**$no));
00203     $denom=10**$no;
00204     <span class="keywordflow">return</span> &amp;_f_simplify($num,$denom);
00205 }
00206 
00207 sub f_int_to_fract {
00208     <span class="keywordflow">return</span> &amp;f_join($_[0],1);
00209 }
00210 
00211 sub f_all_to_fract {
00212 <span class="preprocessor"># Handles integers, reals, and proper, improper and mixed fractions</span>
00213 <span class="preprocessor"></span>    ($_[0] != <span class="stringliteral">""</span>) or <span class="keywordflow">return</span> <span class="stringliteral">"0/1"</span>;
00214     ($_[0] !~ m!^[0-9\-]+/[0-9\-]+$!) or <span class="keywordflow">return</span> $_[0];
00215     ($_[0] !~ m/^[0-9\-]+$/) or <span class="keywordflow">return</span> &amp;f_int_to_fract($_[0]);
00216     
00217     <span class="keywordflow">if</span>($_[0] !~ m!^([0-9\-]+)/([0-9\-]+)/([0-9\-]+)$!){
00218         ($_[0] =~ m/^[0-9\-]*\.[0-9\-]+$/) or &amp;data_error(<span class="stringliteral">"Fraction entered incorrectly"</span>);
00219         <span class="keywordflow">return</span> &amp;f_num_to_fract($_[0]);
00220     }
00221     <span class="keywordflow">return</span> &amp;f_add(&amp;f_int_to_fract($1),&amp;f_join($2,$3));
00222 }
00223 
00224 <span class="preprocessor">########################## End of fraction library ##########################</span>
00225 <span class="preprocessor"></span>
00226 sub data_error {
00227     my $arg;
00228     $arg=$_[0];
00229     print header,
00230           start_html(<span class="stringliteral">"Error: $arg"</span>),
00231           h1(<span class="stringliteral">"Error: $arg"</span>),
00232           p(
00233           <span class="stringliteral">"There is a problem with the data supplied to the script "</span>,
00234           i(<span class="stringliteral">"simplex.pl"</span>),
00235           <span class="stringliteral">"."</span>),
00236           p(
00237           <span class="stringliteral">"Please "</span>,
00238           a({-href=&gt;<span class="stringliteral">"javascript:history.go(-1)"</span>},<span class="stringliteral">"return to the previous page"</span>),
00239           <span class="stringliteral">" and try again."</span>),
00240           end_html;
00241           exit;
00242 }
00243 
00244 sub simplex_error {
00245     my $arg=$_[0];
00246     print h3(<span class="stringliteral">"Error: $arg"</span>),
00247           p(
00248           <span class="stringliteral">"There has been an error in applying the simplex algorithm: $arg."</span>),
00249           end_html;
00250           exit;
00251 }
00252 
00253 sub print_tableau {
00254     my $title,$i,$j;
00255     $title=$_[0];
00256     print h3($title),
00257           start_center,
00258           start_table({-width=&gt;'100%',-cols=&gt;$vars+2,-border=&gt;1,-cellspacing=&gt;0,-cellpadding=&gt;0}),
00259           '&lt;tr align=<span class="stringliteral">"center"</span> valign=<span class="stringliteral">"top"</span>&gt;';
00260     <span class="keywordflow">for</span> ($i=0;$i&lt;=$vars;$i++){
00261         print td({-align=&gt;'center'},$names[$i]);
00262     }
00263     print td({-align=&gt;'center'},'RHS'),
00264           '&lt;/tr&gt;';
00265     <span class="keywordflow">for</span> ($j=0;$j&lt;($objs+$cons);$j++){
00266         print '&lt;tr align=<span class="stringliteral">"center"</span> valign=<span class="stringliteral">"top"</span>';
00267         print ' bgcolor=<span class="stringliteral">"#DDDDDD"</span>' <span class="keywordflow">if</span>($j&lt;$objs);
00268         print <span class="charliteral">'&gt;'</span>;
00269             print td{-align=&gt;'center'},$tableau[$j][0];
00270         <span class="keywordflow">for</span> ($i=1;$i&lt;=$vars+1;$i++){
00271             print td({-align=&gt;'center'},&amp;f_make_proper($tableau[$j][$i]));
00272         }
00273         print '&lt;/tr&gt;';
00274     }
00275     print end_table,
00276           end_center;
00277 }
00278 
00279 <span class="preprocessor"># Max/min-sensitive improvement function</span>
00280 <span class="preprocessor"></span>sub imp_poss {
00281     <span class="keywordflow">if</span>($_[0]==1){
00282         <span class="keywordflow">return</span> &amp;f_lt($_[1],$_[2]);
00283     }
00284     <span class="keywordflow">return</span> &amp;f_gt($_[1],$_[2]);
00285 }
00286 
00287 sub display_solution {
00288     my $a,$one_one,$i,$j,$value,$row;
00289     <span class="keywordflow">for</span>($i=0;$i&lt;($objs+$cons);$i++){
00290         $tableau[$i][0]=<span class="stringliteral">"R&lt;sub&gt;$i&lt;/sub&gt;"</span>;
00291     }
00292     <span class="keywordflow">if</span>($objs&gt;1){
00293         &amp;print_tableau(<span class="stringliteral">"At end of stage $curr_o"</span>);
00294         <span class="keywordflow">return</span>;
00295     } <span class="keywordflow">else</span> {
00296         &amp;print_tableau(<span class="stringliteral">"Final tableau"</span>);
00297     }
00298     print h3(<span class="stringliteral">"Solution"</span>),
00299           p;
00300     <span class="keywordflow">for</span>($i=1;$i&lt;=$vars;$i++){
00301         $one_one=0;
00302         $value=0;
00303         $row=0;
00304         <span class="keywordflow">for</span>($j=0;$j&lt;($objs+$cons);$j++){
00305             $a=$tableau[$j][$i];
00306             ($a != -1) or ($a = -2);
00307             $one_one += abs($a);
00308             $row=$j <span class="keywordflow">if</span> $a==1;
00309         }
00310         $value=$tableau[$row][$RHS] <span class="keywordflow">if</span> $one_one==1;
00311         $value=&amp;f_make_proper($value);
00312         print <span class="stringliteral">"$names[$i] = $value"</span>,
00313               br;
00314     }             
00315 }
00316 
00317                   
00318 <span class="preprocessor">############################### Read in data ################################             </span>
00319 <span class="preprocessor"></span>&amp;data_error(<span class="stringliteral">"No data"</span>) <span class="keywordflow">if</span>(param() eq <span class="stringliteral">""</span>);
00320 
00321 ($vars,$objs,$cons)=(param('novars'),param('noobjs'),param('nocons'));
00322 foreach $a ($vars,$objs,$cons){
00323         &amp;data_error(<span class="stringliteral">"Incomplete data"</span>) <span class="keywordflow">if</span> $a==0;
00324 }
00325 push @maxmin,<span class="stringliteral">""</span>;
00326 <span class="keywordflow">for</span> ($i=0;$i&lt;$objs;$i++){
00327     $a=param(<span class="charliteral">'m'</span>.$i);
00328     <span class="keywordflow">if</span>($a eq 'Maximise'){
00329         push @maxmin,1;
00330     }elsif($a eq 'Minimise'){
00331         push @maxmin,0;
00332     }<span class="keywordflow">else</span>{
00333         &amp;data_error(<span class="stringliteral">"Incomplete data"</span>);
00334     }
00335 }
00336 $display_type=param('fdisp');
00337 $display_sign=param('showsign');
00338 push @remove,-1;
00339 push @names,'&amp;nbsp;';
00340 <span class="keywordflow">for</span> ($i=1;$i&lt;=$vars;$i++){
00341     $a=param(<span class="charliteral">'n'</span>.$i);
00342     <span class="keywordflow">while</span> ($a =~ s?\\?&lt;sub&gt;?){};
00343     <span class="keywordflow">while</span> ($a =~ s?([^&lt;])/?$1&lt;/sub&gt;?){};
00344     push @names,$a;
00345     $a=param(<span class="charliteral">'r'</span>.$i);
00346     <span class="keywordflow">if</span>($a eq 'Never'){
00347         push @remove,-1;
00348     }<span class="keywordflow">else</span>{
00349         push @remove,$a;
00350     }
00351 }    
00352 <span class="keywordflow">for</span> ($i=0;$i&lt;($objs+$cons);$i++){
00353     @temp=(<span class="stringliteral">"R&lt;sub&gt;$i&lt;/sub&gt;"</span>);
00354     <span class="keywordflow">for</span> ($j=1;$j&lt;=$vars+1;$j++){
00355         $temp=param(<span class="charliteral">'d'</span>.$i.<span class="charliteral">'_'</span>.$j);
00356         $temp=&amp;f_all_to_fract($temp);
00357         push @temp,$temp;
00358     }
00359     $tableau[$i]=[ @temp ];
00360 }
00361 print header,
00362       start_html('Simplex results'),
00363       h1('Simplex results'),
00364       p;
00365 
00366 <span class="preprocessor">############################## Simplex algorithm ############################</span>
00367 <span class="preprocessor"></span><span class="preprocessor"># need for loop for removal of objective rows after</span>
00368 <span class="preprocessor"></span>$copy_objs=$objs;
00369 
00370 outer_for: <span class="keywordflow">for</span>($curr_o=1;$curr_o&lt;=$copy_objs;$curr_o++,$objs--){
00371 print h2(<span class="stringliteral">"Stage $curr_o"</span>),
00372       p;
00373 &amp;print_tableau(<span class="stringliteral">"Initial tableau"</span>);
00374 $RHS=$vars+1;
00375 $pivot_no=1;
00376 
00377 outer_while: <span class="keywordflow">while</span>(1) {
00378 $temp=<span class="stringliteral">"0/1"</span>;
00379 <span class="keywordflow">for</span>($i=$objs+1;$i&lt;=$vars;$i++){
00380     <span class="keywordflow">if</span>(&amp;imp_poss($maxmin[$curr_o],$tableau[0][$i],$temp)){
00381         $temp=$tableau[0][$i];
00382         $pivotc=$i;
00383     }
00384 }
00385 <span class="keywordflow">if</span>(&amp;f_eq($temp,<span class="stringliteral">"0/1"</span>)){
00386     &amp;display_solution;
00387     last outer_while;
00388 }
00389 
00390 <span class="keywordflow">if</span> (&amp;f_gt($tableau[$objs][$pivotc],<span class="stringliteral">"0/1"</span>) or (&amp;f_lt($tableau[$objs][$pivotc],<span class="stringliteral">"0/1"</span>) and &amp;f_lt($tableau[$objs][$RHS],<span class="stringliteral">"0/1"</span>))){
00391     $pivotv = &amp;f_div($tableau[$objs][$RHS],$tableau[$objs][$pivotc]);
00392 } <span class="keywordflow">else</span> {
00393     $pivotv = '-1/1';
00394 }
00395 $pivotr=$objs;
00396 <span class="keywordflow">for</span>($i=$objs+1;$i&lt;($objs+$cons);$i++){
00397     next <span class="keywordflow">if</span>(&amp;f_eq($tableau[$i][$pivotc],'0/1'));
00398     $temp=&amp;f_div($tableau[$i][$RHS],$tableau[$i][$pivotc]);
00399     <span class="keywordflow">if</span>(&amp;f_gt($temp,'0/1') and (&amp;f_lt($pivotv,'0/1') or &amp;f_lt($temp,$pivotv)))    {
00400         $pivotv=$temp;
00401         $pivotr=$i;
00402     }
00403 }
00404 ($pivotv != '-1/1') or &amp;simplex_error(<span class="stringliteral">"Unable to find pivot element (no feasible solution)"</span>);
00405 $value=$tableau[$pivotr][$pivotc];
00406 
00407 <span class="keywordflow">for</span>($i=1;$i&lt;=$RHS;$i++){
00408     $tableau[$pivotr][$i]=&amp;f_div($tableau[$pivotr][$i],$value);
00409 }
00410 $tableau[$pivotr][0]=<span class="stringliteral">"R&lt;sub&gt;$pivotr&lt;/sub&gt;"</span>;
00411 <span class="keywordflow">for</span>($j=0;$j&lt;($objs+$cons);$j++){
00412     next <span class="keywordflow">if</span> $j==$pivotr;
00413     $tosub=$tableau[$j][$pivotc];
00414     $char='- ';
00415     $char='+ ' <span class="keywordflow">if</span> &amp;f_lt($tosub,'0/1');
00416     <span class="keywordflow">if</span>(not(&amp;f_eq($tosub,'1/1') or &amp;f_eq($tosub,'-1/1'))) {
00417         my $a=$tosub;
00418         $a=&amp;f_join(&amp;f_toggle_neg(&amp;f_split($a))) <span class="keywordflow">if</span> &amp;f_lt($a,'0/1');
00419         $char=$char.&amp;f_make_proper($a);
00420     }
00421     $char=$char.<span class="stringliteral">"R&lt;sub&gt;$pivotr&lt;/sub&gt;"</span>;
00422     $char=<span class="stringliteral">""</span> <span class="keywordflow">if</span> &amp;f_eq($tosub,'0/1');
00423     $tableau[$j][0]=<span class="stringliteral">"R&lt;sub&gt;$j&lt;/sub&gt; "</span>.$char;
00424     <span class="keywordflow">for</span>($i=1;$i&lt;=$RHS;$i++){
00425         $tableau[$j][$i]=&amp;f_sub($tableau[$j][$i],&amp;f_mult($tosub,$tableau[$pivotr][$i]));
00426     }
00427 }
00428 &amp;print_tableau(<span class="stringliteral">"Pivot $pivot_no: row R&lt;sub&gt;$pivotr&lt;/sub&gt;, column $names[$pivotc]."</span>);
00429 $pivot_no++;
00430 }
00431 
00432 @new_remove=(-1);
00433 @new_names=(<span class="stringliteral">""</span>);
00434 @new_tableau=();
00435 $new_vars=$vars;
00436 
00437 last outer_for <span class="keywordflow">if</span>($objs==1);
00438 
00439 <span class="keywordflow">if</span>(($tableau[0][$RHS] != 0) and (@maxmin[$curr_o] == 0)){
00440     print p(
00441           <span class="stringliteral">"(Note: the first objective function has not reduced to 0.  This suggests that there is no feasible solution to the problem, and that the rest of this algorithm may be invalid.  Caution is necessary in interpreting the remaining stages.)"</span>);
00442 }
00443     
00444 
00445 <span class="keywordflow">for</span>($i=1;$i&lt;=$vars;$i++){
00446     $new_vars-- <span class="keywordflow">if</span>($remove[$i] == $curr_o);
00447 }
00448 
00449 <span class="keywordflow">for</span>($j=1;$j&lt;($objs+$cons);$j++){
00450     $k=$j-1;
00451     @temp=(<span class="stringliteral">"R&lt;sub&gt;$k&lt;/sub&gt;"</span>);
00452     <span class="keywordflow">for</span>($i=1;$i&lt;=$vars+1;$i++){
00453         <span class="keywordflow">if</span>($remove[$i] != $curr_o){
00454             push @temp,$tableau[$j][$i];
00455             push @new_names,$names[$i];
00456             push @new_remove,$remove[$i];
00457         }
00458     }
00459     @new_tableau[$j-1] = [ @temp ];
00460 }
00461 
00462 @tableau=@new_tableau;
00463 @remove=@new_remove;
00464 @names=@new_names;
00465 $vars=$new_vars;
00466 
00467 }
00468 $url=url(-relative=&gt;1,-query=&gt;1);
00469 $url =~ s/simplex\.pl/simplex_table\.pl/;
00470 
00471 print   p(
00472         a({-href=&gt;<span class="stringliteral">"$url"</span>},<span class="stringliteral">"Alter initial tableau and reprocess"</span>),br,
00473         a({-href=&gt;<span class="stringliteral">"../simplex.html"</span>},<span class="stringliteral">"Return to the simplex page"</span>)),
00474         hr,
00475         font({-size=&gt;'-1'},<span class="stringliteral">"This implementation of the Simplex algorithm is &amp;copy; Mark Hutchinson 2004."</span>),
00476         end_html;
00477         
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue May 25 20:02:42 2004 for Simplex by
<a href="http://www.doxygen.org/index.html">
<img src="gfx/doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.3 </small></address>
</body>
</html>
