<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Simplex: simplex_table.pl Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.3 -->
<h1>simplex_table.pl</h1><div class="fragment"><pre>00001 <span class="preprocessor">#! /usr/bin/perl</span>
00002 <span class="preprocessor"></span><span class="preprocessor"># Implementation of Simplex Algorithm</span>
00003 <span class="preprocessor"></span><span class="preprocessor"># © Mark Hutchinson 2004</span>
00004 <span class="preprocessor"></span><span class="preprocessor"># Tableau entry creator</span>
00005 <span class="preprocessor"></span>
00006 use CGI qw/:standard *table *tr *center/;
00007 
00008 sub data_error {
00009     my $arg;
00010     $arg=$_[0];
00011     print header,
00012           start_html(<span class="stringliteral">"Error: $arg"</span>),
00013           h1(<span class="stringliteral">"Error: $arg"</span>),
00014           p(
00015           <span class="stringliteral">"There is a problem with the data supplied to the script "</span>,
00016           i(<span class="stringliteral">"simplex_table.pl"</span>),
00017           <span class="stringliteral">"."</span>),
00018           p(
00019           <span class="stringliteral">"Please "</span>,
00020           a({-href=&gt;<span class="stringliteral">"../simplex.html"</span>},<span class="stringliteral">"return to the form page"</span>),
00021           <span class="stringliteral">" and try again."</span>),
00022           end_html;
00023           exit;
00024 }
00025 
00026 <span class="keywordflow">if</span>(param() eq <span class="stringliteral">""</span>){
00027     &amp;data_error(<span class="stringliteral">"No data"</span>);
00028 }<span class="keywordflow">else</span>{
00029     ($vars,$objs,$cons)=(param('novars'),param('noobjs'),param('nocons'));
00030     foreach $a ($vars,$objs,$cons){
00031         &amp;data_error(<span class="stringliteral">"Incomplete data"</span>) <span class="keywordflow">if</span> $a==0;
00032         &amp;data_error(<span class="stringliteral">"Data are not all positive integers"</span>) unless $a&gt;0;
00033     }
00034     print header,
00035           start_html(<span class="stringliteral">"Simplex Algorithm"</span>),
00036           h1('Simplex Algorithm'),
00037           p(
00038           <span class="stringliteral">"Please enter the initial tableau in the boxes below.  If you are using artificial variables, select which objective function they exist for (i.e. when they will be removed).  The second line should contain all the variable names.  Select 'Maximise' or 'Minimise' on each objective function depending on what you want.  You may enter fractions in the form a/b/c or b/c (and are strongly advised to do so instead of entering decimals).  If you want a subscript (eg. S&lt;sub&gt;1&lt;/sub&gt;) to appear in a name, use '\\' to start and '/' to end it (so S&lt;sub&gt;1&lt;/sub&gt; would be '&lt;tt&gt;S\\1/&lt;/tt&gt;')."</span>),
00039           p(
00040           <span class="stringliteral">"'Display as improper fractions' means as &lt;sup&gt;7&lt;/sup&gt;/&lt;sub&gt;2&lt;/sub&gt; rather than as 3&lt;sup&gt;1&lt;/sup&gt;/&lt;sub&gt;2&lt;/sub&gt;. (If your browser doesn't show the previous fraction as 'three and a half', it cannot handle certain tags which are used in fractions.  Either use decimals or select 'Display +/- sign in mixed fractions' to display it as 3+&lt;sup&gt;1&lt;/sup&gt;/&lt;sub&gt;2&lt;/sub&gt;.)"</span>),
00041           start_form(-method=&gt;'get',-action=&gt;'simplex.pl'),
00042           hidden('novars',$vars),
00043           hidden('noobjs',$objs),
00044           hidden('nocons',$cons),
00045           start_center,
00046           start_table({-width=&gt;'100%',-cols=&gt;$vars+2,-border=&gt;1,-cellspacing=&gt;0,-cellpadding=&gt;0}),
00047           '&lt;tr align=<span class="stringliteral">"center"</span> valign=<span class="stringliteral">"top"</span> bgcolor=<span class="stringliteral">"#DDDDDD"</span>&gt;',
00048           td({-align=&gt;'center'},'Remove after:');
00049     @temp=('Never');
00050     <span class="keywordflow">for</span> ($i=1;$i&lt;$objs;$i++){
00051         push @temp,$i;
00052     }
00053     <span class="keywordflow">for</span> ($i=1;$i&lt;=$vars;$i++){
00054         $default=param(<span class="charliteral">'r'</span>.$i);
00055         $default=$temp[0] <span class="keywordflow">if</span>($default eq '');
00056         print td({-align=&gt;'center'},popup_menu(<span class="charliteral">'r'</span>.$i,\@temp,$<span class="keywordflow">default</span>));
00057     }
00058     print td({-align=&gt;'center'},'&amp;nbsp;'),
00059           '&lt;/tr&gt;&lt;tr align=<span class="stringliteral">"center"</span> valign=<span class="stringliteral">"top"</span>&gt;',
00060           td({-align=&gt;'center'},'Names:');
00061     <span class="keywordflow">for</span> ($i=1;$i&lt;=$vars;$i++){
00062           $default=param(<span class="charliteral">'n'</span>.$i);
00063           print td({-align=&gt;'center'},textfield(<span class="charliteral">'n'</span>.$i,$<span class="keywordflow">default</span>,<span class="charliteral">'3'</span>,));
00064     }
00065     print td({-align=&gt;'center'},'RHS'),
00066           '&lt;/tr&gt;';
00067     <span class="keywordflow">for</span> ($j=0;$j&lt;$objs;$j++){
00068           $default=param(<span class="charliteral">'m'</span>.$j);
00069           $default='Maximise' <span class="keywordflow">if</span>($default eq '');
00070           print '&lt;tr align=<span class="stringliteral">"center"</span> valign=<span class="stringliteral">"top"</span> bgcolor=<span class="stringliteral">"#DDDDDD"</span>&gt;',
00071                 td({-align=&gt;'center'},popup_menu(<span class="charliteral">'m'</span>.$j,['Maximise<span class="charliteral">','</span>Minimise']));
00072           <span class="keywordflow">for</span> ($i=1;$i&lt;=$vars+1;$i++){
00073               $default=param(<span class="charliteral">'d'</span>.$j.<span class="charliteral">'_'</span>.$i);
00074               print td({-align=&gt;'center'},textfield(<span class="charliteral">'d'</span>.$j.<span class="charliteral">'_'</span>.$i,$<span class="keywordflow">default</span>,<span class="charliteral">'3'</span>));
00075           }
00076           print '&lt;/tr&gt;';
00077     }
00078     $put=<span class="stringliteral">"Constraints:"</span>;
00079     <span class="keywordflow">for</span> ($j=0;$j&lt;$cons;$j++){
00080           print '&lt;tr align=<span class="stringliteral">"center"</span> valign=<span class="stringliteral">"top"</span>&gt;',
00081                 td({-align=&gt;'center'},$put);
00082                 <span class="keywordflow">for</span> ($i=1;$i&lt;=$vars+1;$i++){
00083                     $default=param(<span class="charliteral">'d'</span>.($objs+$j).<span class="charliteral">'_'</span>.$i);
00084                     print td({-align=&gt;'center'},textfield(<span class="charliteral">'d'</span>.($objs+$j).<span class="charliteral">'_'</span>.$i,$<span class="keywordflow">default</span>,<span class="charliteral">'3'</span>));
00085                 }
00086           $put='&amp;nbsp;';
00087     }
00088     $default=param('fdsip');
00089     $default='Display as mixed fractions' <span class="keywordflow">if</span>($default eq '');
00090     print end_table,
00091           end_center,
00092           start_table({-cols=&gt;2,-border=&gt;0,-cellspacing=&gt;0,-cellpadding=&gt;0}),
00093           '&lt;tr align=<span class="stringliteral">"left"</span> valign=<span class="stringliteral">"top"</span>&gt;',
00094           td({-valign=&gt;'top'},
00095           radio_group(-name=&gt;'fdisp',-values=&gt;['Display as mixed fractions<span class="charliteral">','</span>Display as improper fractions<span class="charliteral">','</span>Display as decimals'],-<span class="keywordflow">default</span>=&gt;$<span class="keywordflow">default</span>,-linebreak=&gt;'<span class="keyword">true</span>'));
00096     $default=param('showsign');
00097     $default='' <span class="keywordflow">if</span>($default eq '');
00098     print td({-valign=&gt;'top'},
00099           checkbox(-name=&gt;'showsign',-label=&gt;'Display +/- sign in mixed fractions')),
00100           '&lt;/tr&gt;',
00101           end_table,
00102           br,
00103           reset,
00104           submit('Process'),
00105           end_form,
00106           hr,
00107           font({-size=&gt;'-1'},<span class="stringliteral">"This implementation of the Simplex algorithm is &amp;copy; Mark Hutchinson 2004."</span>),
00108           end_html;
00109           
00110           
00111 }
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue May 25 20:02:42 2004 for Simplex by
<a href="http://www.doxygen.org/index.html">
<img src="gfx/doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.3 </small></address>
</body>
</html>
